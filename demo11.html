<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>冒泡，事件代理</title>
    </head>
    <body>
        <div class="div1">
            <a href="#" class="a1">a1</a>
            <a href="#" class="a2">a2</a>
            <a href="#" class="a3">a3</a>
            <p class="p11">11</p>
            <p class="p12">12</p>
            <p class="p13">13</p>
        </div>
        <div class="div2">
            <p class="p1">p1</p>
            <p class="p2">p2</p>
            <p class="p3">p3</p>
        </div>


        <script>
            function bindEvent(elem,type,selector,fn){
                if(fn==null){
                    var fn=selector;
                    selector=null;
                }

                elem.addEventListener(type,function(e){
                    var target;
                    if(selector){
                        target=e.target;
                        if(target.matches(selector)){
                            fn.call(target,e)
                        }
                    }else{
                        fn(e)
                    }

                })
            }

            var div1=document.getElementsByClassName('div1');
            bindEvent(div1,'click','a',function(e){
                e.preverntDefault();
                console.log(this.innerHTML);
            })

            var div2=document.getElementsByClassName('div2');
            bindEvent(div2,'click',function(e){
                console.log
            })
        </script>
    </body>
</html>